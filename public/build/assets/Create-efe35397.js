import{A as M,v as N,r as C,o,b as l,d as s,k as D,y as c,z as v,t as n,p as t,F as m,f as u,e as P,B as j}from"./app-1754e601.js";import{u as z}from"./roles-2a379bb6.js";import{u as A}from"./users-34a1e8a0.js";import{d as x,u as T,a as _,r as G,m as H}from"./rules-2971686f.js";const I={class:"row justify-content-center my-5"},J={class:"col-md-10"},K={class:"card border-0 shadow-sm"},O={class:"card-body"},Q={class:"mb-3"},W=s("label",{for:"post-title",class:"form-label"},"Name",-1),X={class:"text-danger mt-1"},Y={class:"text-danger mt-1"},Z={class:"mb-3"},$=s("label",{for:"email",class:"form-label"},"Email",-1),ss={class:"text-danger mt-1"},es={class:"text-danger mt-1"},ts={class:"mb-3"},os=s("label",{for:"password",class:"form-label"},"Password",-1),ls={class:"text-danger mt-1"},as={class:"text-danger mt-1"},is={class:"mb-3"},ns=s("label",{for:"post-category",class:"form-label"}," Role ",-1),ds={class:"text-danger mt-1"},rs={class:"text-danger mt-1"},cs={class:"mt-4"},ms=["disabled"],us={class:""},_s={key:0},ps={key:1},gs={__name:"Create",setup(vs){const{roleList:y,getRoleList:V}=z(),{storeUser:U,validationErrors:d,isLoading:p}=A();x("required",G),x("min",H);const k={name:"required",email:"required",password:"required|min:8"},{validate:q,errors:r}=T({validationSchema:k}),{value:F}=_("name",null,{initialValue:""}),{value:S}=_("email",null,{initialValue:""}),{value:B}=_("password",null,{initialValue:""}),{value:L}=_("role_id",null,{initialValue:"",label:"role"}),a=M({name:F,email:S,password:B,role_id:L});function R(){q().then(f=>{f.valid&&U(a)})}return N(()=>{V()}),(f,i)=>{var h,b,w,g;const E=C("v-select");return o(),l("div",I,[s("div",J,[s("div",K,[s("div",O,[s("form",{onSubmit:D(R,["prevent"])},[s("div",Q,[W,c(s("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>a.name=e),id:"post-title",type:"text",class:"form-control"},null,512),[[v,a.name]]),s("div",X,n(t(r).name),1),s("div",Y,[(o(!0),l(m,null,u((h=t(d))==null?void 0:h.name,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",Z,[$,c(s("input",{"onUpdate:modelValue":i[1]||(i[1]=e=>a.email=e),id:"email",type:"email",class:"form-control"},null,512),[[v,a.email]]),s("div",ss,n(t(r).email),1),s("div",es,[(o(!0),l(m,null,u((b=t(d))==null?void 0:b.email,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",ts,[os,c(s("input",{"onUpdate:modelValue":i[2]||(i[2]=e=>a.password=e),id:"password",type:"password",class:"form-control"},null,512),[[v,a.password]]),s("div",ls,n(t(r).password),1),s("div",as,[(o(!0),l(m,null,u((w=t(d))==null?void 0:w.password,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",is,[ns,P(E,{multiple:"",modelValue:a.role_id,"onUpdate:modelValue":i[3]||(i[3]=e=>a.role_id=e),options:t(y),reduce:e=>e.id,label:"name",class:"form-control"},null,8,["modelValue","options","reduce"]),s("div",ds,n(t(r).role_id),1),s("div",rs,[(o(!0),l(m,null,u((g=t(d))==null?void 0:g.role_id,e=>(o(),l("div",null,n(e),1))),256))])]),s("div",cs,[s("button",{disabled:t(p),class:"btn btn-primary"},[c(s("div",us,null,512),[[j,t(p)]]),t(p)?(o(),l("span",_s,"Processing...")):(o(),l("span",ps,"Save"))],8,ms)])],32)])])])])}}};export{gs as default};
