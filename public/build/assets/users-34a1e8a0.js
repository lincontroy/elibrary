import{q as o,K as g,L as m}from"./app-1754e601.js";function L(){const c=o([]),l=o({name:""}),u=g(),r=o({}),a=o(!1),n=m("$swal"),d=o([]),p=async(e=1,t="",s="",i="",f="created_at",h="desc")=>{axios.get("/api/users?page="+e+"&search_id="+t+"&search_title="+s+"&search_global="+i+"&order_column="+f+"&order_direction="+h).then(v=>{c.value=v.data})};return{users:c,user:l,getUsers:p,getUserList:async()=>{axios.get("/api/users").then(e=>{d.value=e.data.data})},userList:d,getUser:async e=>{axios.get("/api/users/"+e).then(t=>{l.value=t.data.data})},storeUser:async e=>{if(a.value)return;a.value=!0,r.value={};let t=new FormData;for(let s in e)e.hasOwnProperty(s)&&t.append(s,e[s]);axios.post("/api/users",t).then(s=>{u.push({name:"users.index"}),n({icon:"success",title:"User saved successfully"})}).catch(s=>{var i;(i=s.response)!=null&&i.data&&(r.value=s.response.data.errors)}).finally(()=>a.value=!1)},updateUser:async e=>{a.value||(a.value=!0,r.value={},axios.put("/api/users/"+e.id,e).then(t=>{u.push({name:"users.index"}),n({icon:"success",title:"User updated successfully"})}).catch(t=>{var s;(s=t.response)!=null&&s.data&&(r.value=t.response.data.errors)}).finally(()=>a.value=!1))},deleteUser:async e=>{n({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(t=>{t.isConfirmed&&axios.delete("/api/users/"+e).then(s=>{p(),u.push({name:"users.index"}),n({icon:"success",title:"User deleted successfully"})}).catch(s=>{n({icon:"error",title:"Something went wrong"})})})},validationErrors:r,isLoading:a}}export{L as u};
