import{A as T,v as G,r as H,o,b as l,d as e,k as J,y as _,z as p,t as a,p as s,F as u,f as c,e as w,B as K}from"./app-1754e601.js";import{u as O}from"./roles-2a379bb6.js";import{u as W}from"./books-83663ece.js";import{d as C,u as X,a as m,r as Y,m as Z}from"./rules-2971686f.js";const $={class:"row justify-content-center my-5"},ee={class:"col-md-10"},te={class:"card border-0 shadow-sm"},se={class:"card-body"},oe={class:"mb-3"},le=e("label",{for:"name",class:"form-label"},"Book Name",-1),ne={class:"text-danger mt-1"},ie={class:"text-danger mt-1"},ae={class:"mb-3"},re=e("label",{for:"publisher",class:"form-label"},"Publisher",-1),de={class:"text-danger mt-1"},ue={class:"text-danger mt-1"},ce={class:"mb-3"},me=e("label",{for:"isbn",class:"form-label"},"Isbn",-1),_e={class:"text-danger mt-1"},pe={class:"text-danger mt-1"},be={class:"mb-3"},ve=e("label",{for:"category",class:"form-label"},"Category",-1),ge={class:"text-danger mt-1"},he={class:"text-danger mt-1"},fe={class:"mb-3"},ye=e("label",{for:"sub_category",class:"form-label"},"Sub Category",-1),xe={class:"text-danger mt-1"},Ve={class:"text-danger mt-1"},qe={class:"mb-3"},ke=e("label",{for:"description",class:"form-label"},"Description",-1),Ue={class:"text-danger mt-1"},Be={class:"text-danger mt-1"},Se={class:"mb-3"},we=e("label",{for:"pages",class:"form-label"},"Pages",-1),Ce={class:"text-danger mt-1"},Fe={class:"text-danger mt-1"},Le={class:"mb-3"},De=e("label",{for:"pages",class:"form-label"},"Quantity",-1),Me={class:"text-danger mt-1"},Ne={class:"text-danger mt-1"},Pe={class:"mb-3"},Re=e("label",{for:"image",class:"form-label"},"Image",-1),Ee={class:"text-danger mt-1"},Ie={class:"text-danger mt-1"},je={class:"mt-4"},ze=["disabled"],Ae={class:""},Qe={key:0},Te={key:1},We={__name:"Create",setup(Ge){const{roleList:v,getRoleList:F}=O(),{storeBook:L,validationErrors:r,isLoading:b}=W();C("required",Y),C("min",Z);const D={name:"required",publisher:"required",isbn:"required",description:"required",pages:"required",quantity:"required"},{validate:M,errors:d}=X({validationSchema:D}),{value:N}=m("name",null,{initialValue:""}),{value:P}=m("publisher",null,{initialValue:""}),{value:R}=m("isbn",null,{initialValue:""}),{value:E}=m("quantity",null,{initialValue:""}),{value:I}=m("sub_category",null,{initialValue:""}),{value:j}=m("category",null,{initialValue:""}),{value:z}=m("description",null,{initialValue:""}),{value:A}=m("pages",null,{initialValue:""}),n=T({name:N,publisher:P,isbn:R,sub_category:I,category:j,description:z,pages:A,quantity:E});function Q(){M().then(g=>{g.valid&&L(n)})}return G(()=>{F()}),(g,i)=>{var f,y,x,V,q,k,U,B,S;const h=H("v-select");return o(),l("div",$,[e("div",ee,[e("div",te,[e("div",se,[e("form",{onSubmit:J(Q,["prevent"])},[e("div",oe,[le,_(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>n.name=t),id:"name",type:"text",class:"form-control"},null,512),[[p,n.name]]),e("div",ne,a(s(d).name),1),e("div",ie,[(o(!0),l(u,null,c((f=s(r))==null?void 0:f.name,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",ae,[re,_(e("input",{"onUpdate:modelValue":i[1]||(i[1]=t=>n.publisher=t),id:"publisher",type:"text",class:"form-control"},null,512),[[p,n.publisher]]),e("div",de,a(s(d).publisher),1),e("div",ue,[(o(!0),l(u,null,c((y=s(r))==null?void 0:y.publisher,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",ce,[me,_(e("input",{"onUpdate:modelValue":i[2]||(i[2]=t=>n.isbn=t),id:"isbn",type:"text",class:"form-control"},null,512),[[p,n.isbn]]),e("div",_e,a(s(d).isbn),1),e("div",pe,[(o(!0),l(u,null,c((x=s(r))==null?void 0:x.isbn,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",be,[ve,w(h,{multiple:"",modelValue:n.category,"onUpdate:modelValue":i[3]||(i[3]=t=>n.category=t),options:s(v),reduce:t=>t.id,label:"category",class:"form-control"},null,8,["modelValue","options","reduce"]),e("div",ge,a(s(d).category),1),e("div",he,[(o(!0),l(u,null,c((V=s(r))==null?void 0:V.category,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",fe,[ye,w(h,{multiple:"",modelValue:n.sub_category,"onUpdate:modelValue":i[4]||(i[4]=t=>n.sub_category=t),options:s(v),reduce:t=>t.id,label:"subcategory",class:"form-control"},null,8,["modelValue","options","reduce"]),e("div",xe,a(s(d).sub_category),1),e("div",Ve,[(o(!0),l(u,null,c((q=s(r))==null?void 0:q.sub_category,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",qe,[ke,_(e("textarea",{"onUpdate:modelValue":i[5]||(i[5]=t=>n.description=t),id:"description",type:"text",class:"form-control"},null,512),[[p,n.description]]),e("div",Ue,a(s(d).description),1),e("div",Be,[(o(!0),l(u,null,c((k=s(r))==null?void 0:k.description,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",Se,[we,_(e("input",{"onUpdate:modelValue":i[6]||(i[6]=t=>n.pages=t),id:"pages",min:"1",type:"number",class:"form-control"},null,512),[[p,n.pages]]),e("div",Ce,a(s(d).pages),1),e("div",Fe,[(o(!0),l(u,null,c((U=s(r))==null?void 0:U.pages,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",Le,[De,_(e("input",{"onUpdate:modelValue":i[7]||(i[7]=t=>n.quantity=t),id:"quantity",min:"1",type:"number",class:"form-control"},null,512),[[p,n.quantity]]),e("div",Me,a(s(d).quantity),1),e("div",Ne,[(o(!0),l(u,null,c((B=s(r))==null?void 0:B.quantity,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",Pe,[Re,e("input",{onChange:i[8]||(i[8]=(...t)=>n.imagefile&&n.imagefile(...t)),id:"image",type:"file",class:"form-control"},null,32),e("div",Ee,a(s(d).pages),1),e("div",Ie,[(o(!0),l(u,null,c((S=s(r))==null?void 0:S.image,t=>(o(),l("div",null,a(t),1))),256))])]),e("div",je,[e("button",{disabled:s(b),class:"btn btn-primary"},[_(e("div",Ae,null,512),[[K,s(b)]]),s(b)?(o(),l("span",Qe,"Processing...")):(o(),l("span",Te,"Save"))],8,ze)])],32)])])])])}}};export{We as default};
