import{q as b,s as D,v as N,x as f,r as w,o as r,b as h,d as e,p,i as V,w as L,l as F,y,z as k,n as o,F as P,f as A,e as I,g as M,t as x,k as S}from"./app-1754e601.js";import{u as T}from"./bookloans-85d97182.js";const U={class:"row justify-content-center my-2"},z={class:"col-md-12"},j={class:"card border-0"},q={class:"card-header bg-transparent"},E=e("h5",{class:"float-start"},"Create Book Loan",-1),O={class:"card-body shadow-sm"},G={class:"mb-4"},H={class:"table-responsive"},J={class:"table"},K={class:"px-6 py-3 bg-gray-50 text-left"},Q={class:"px-6 py-3 bg-gray-50 text-left"},R=e("th",{class:"px-6 py-3 text-start"},null,-1),W=e("th",{class:"px-6 py-3 text-start"},null,-1),X={class:"px-6 py-3 text-start"},Y={class:"select-none"},Z={class:"px-6 py-3 text-left"},ee={class:"select-none"},te={class:"px-6 py-3 text-left"},se={class:"select-none"},le={class:"px-6 py-3 text-left"},ae={class:"select-none"},oe={class:"px-6 py-3 text-left"},de={class:"select-none"},ne={class:"px-6 py-3 text-left"},ue={class:"select-none"},ie={class:"px-6 py-3 text-left"},ce={class:"select-none"},ve={class:"px-6 py-4 text-sm"},re={class:"px-6 py-4 text-sm"},_e={class:"px-6 py-4 text-sm"},pe={class:"px-6 py-4 text-sm"},xe={class:"px-6 py-4 text-sm"},be={class:"px-6 py-4 text-sm"},he={class:"px-6 py-4 text-sm"},me=["onClick"],fe={key:1,href:"#",class:"ms-2 badge bg-success"},ye={class:"card-footer"},Be={__name:"Index",setup(ke){const n=b(""),u=b(""),i=b(""),s=b("created_at"),t=b("desc"),{bookLoans:m,getBookLoans:v,returnBook:C}=T(),{can:g}=D();N(()=>{v(),console.log(m)});const c=d=>{s.value=d,t.value=t.value==="asc"?"desc":"asc",v(1,n.value,u.value,i.value,s.value,t.value)};return f(n,(d,l)=>{v(1,d,u.value,i.value)}),f(u,(d,l)=>{v(1,n.value,d,i.value)}),f(i,_.debounce((d,l)=>{v(1,n.value,u.value,d)},200)),(d,l)=>{const B=w("router-link"),$=w("Pagination");return r(),h("div",U,[e("div",z,[e("div",j,[e("div",q,[E,p(g)("user-list")?(r(),V(B,{key:0,to:{name:"bookloans.create"},class:"btn btn-primary btn-sm float-end"},{default:L(()=>[M(" Add New ")]),_:1},8,["to"])):F("",!0)]),e("div",O,[e("div",G,[y(e("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[k,i.value]])]),e("div",H,[e("table",J,[e("thead",null,[e("tr",null,[e("th",K,[y(e("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>n.value=a),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[k,n.value]])]),e("th",Q,[y(e("input",{"onUpdate:modelValue":l[2]||(l[2]=a=>u.value=a),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[k,u.value]])]),R,W]),e("tr",null,[e("th",X,[e("div",{class:"flex flex-row",onClick:l[3]||(l[3]=a=>c("id"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="id"}])}," ID ",2),e("div",Y,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="id",hidden:t.value!==""&&t.value!=="asc"&&s.value==="id"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="id",hidden:t.value!==""&&t.value!=="desc"&&s.value==="id"})},"↓",2)])])]),e("th",Z,[e("div",{class:"flex flex-row",onClick:l[4]||(l[4]=a=>c("title"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="book_id"}])}," Book Name ",2),e("div",ee,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="book_id",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="book_id",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])]),e("th",te,[e("div",{class:"flex flex-row",onClick:l[5]||(l[5]=a=>c("title"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="user_id"}])}," Borrowed By ",2),e("div",se,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="user_id",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="user_id",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])]),e("th",le,[e("div",{class:"flex flex-row",onClick:l[6]||(l[6]=a=>c("title"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="loan_date"}])}," Loan Date ",2),e("div",ae,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="loan_date",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="loan_date",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])]),e("th",oe,[e("div",{class:"flex flex-row",onClick:l[7]||(l[7]=a=>c("due_date"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="due_date"}])}," Due date ",2),e("div",de,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="due_date",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="due_date",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])]),e("th",ne,[e("div",{class:"flex flex-row",onClick:l[8]||(l[8]=a=>c("due_date"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="status"}])}," Status ",2),e("div",ue,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="status",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="status",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])]),e("th",ie,[e("div",{class:"flex flex-row",onClick:l[9]||(l[9]=a=>c("due_date"))},[e("div",{class:o(["font-medium text-uppercase",{"font-bold text-blue-600":s.value==="title"}])}," Action ",2),e("div",ce,[e("span",{class:o({"text-blue-600":t.value==="asc"&&s.value==="title",hidden:t.value!==""&&t.value!=="asc"&&s.value==="title"})},"↑",2),e("span",{class:o({"text-blue-600":t.value==="desc"&&s.value==="title",hidden:t.value!==""&&t.value!=="desc"&&s.value==="title"})},"↓",2)])])])])]),e("tbody",null,[(r(!0),h(P,null,A(p(m).data,a=>(r(),h("tr",{key:a.id},[e("td",ve,x(a.id),1),e("td",re,x(a.book_id),1),e("td",_e,x(a.user_id),1),e("td",pe,x(a.loan_date),1),e("td",xe,x(a.due_date),1),e("td",be,x(a.status),1),e("td",he,[a.status=="Not returned"&&p(g)("user-edit")?(r(),h("a",{key:0,href:"#",onClick:S(ge=>p(C)(a),["prevent"]),class:"ms-2 badge bg-info"},"return",8,me)):(r(),h("a",fe,"returned"))])]))),128))])])])]),e("div",ye,[I($,{data:p(m),limit:3,onPaginationChangePage:l[10]||(l[10]=a=>p(v)(a,n.value,u.value,i.value,s.value,t.value)),class:"mt-4"},null,8,["data"])])])])])}}};export{Be as default};
